((function(){var a,b,c,d,e,f={}.hasOwnProperty,g=function(a,b){return function(){return a.apply(b,arguments)}};_.defaults(this,{Before:function(a,b,c){return YouAreDaBomb(a,b).before(c)},BeforeAnyCallback:function(a,b,c){return YouAreDaBomb(a,b).beforeAnyCallback(c)},After:function(a,b,c){return YouAreDaBomb(a,b).after(c)},Around:function(a,b,c){return YouAreDaBomb(a,b).around(c)},AfterAll:function(a,b,c){var d,e,f,g;g=[];for(e=0,f=b.length;e<f;e++)d=b[e],g.push(After(a,d,c));return g},LogAll:function(a){var b,c,d;d=[];for(b in a){if(!f.call(a,b))continue;c=a[b],_.isFunction(c)?d.push(function(b){return Before(a,b,function(){return console.log("calling: "+b)})}(b)):d.push(void 0)}return d},AutoBind:function(a,b){var c,d,e;e=[];for(c in a)d=a[c],_.isFunction(d)?e.push(function(c){if(c.endsWith("Clicked")&&b[c.remove("Clicked")])return After(a,c,function(a){return b[c.remove("Clicked")](a)})}(c)):e.push(void 0);return e}}),b=function(){function a(){this.newsLoaded=g(this.newsLoaded,this),this.loadNews=g(this.loadNews,this),this.fake_news=g(this.fake_news,this);var a,b;console.log("fake server side constructor"),this.news=[];for(a=b=1;b<=5;a=++b)this.news.push(this.fake_news(a));this.counter=5}return a.prototype.fake_news=function(a){var b;return b={id:a,author:"Sebaci"+a,title:"Title"+a,content:"Content"+a},b},a.prototype.loadNews=function(){return this.newsLoaded(this.news)},a.prototype.newsLoaded=function(a){},a}(),e=function(){function a(){this.setNews=g(this.setNews,this),this.start=g(this.start,this),this.news=[]}return a.prototype.start=function(){return console.log("use case started")},a.prototype.setNews=function(a){this.news=a},a}(),d=function(){function a(){this.addNews=g(this.addNews,this),this.showNews=g(this.showNews,this),this.createElementFor=g(this.createElementFor,this),console.log("gui started")}return a.prototype.createElementFor=function(a,b){var c,d,e,f;return e=$(a).html(),f=Handlebars.compile(e),d=f(b),c=$(d),c},a.prototype.showNews=function(a){var b,c,d,e;console.log("show news ("+a.length+")"),e=[];for(c=0,d=a.length;c<d;c++)b=a[c],e.push(this.addNews(b));return e},a.prototype.addNews=function(a){var b;return b=this.createElementFor("#news",a),$("#myNews").append(b)},a}(),c=function(){function a(a,b,c){var d=this;this.useCase=a,this.gui=b,this.serverSide=c,After(this.useCase,"start",function(){return d.serverSide.loadNews()}),After(this.serverSide,"newsLoaded",function(a){return d.useCase.setNews(a)}),After(this.useCase,"setNews",function(a){return d.gui.showNews(a)})}return a}(),a=function(){function a(a){var b,f,g,h;console.log("app started"),h=new e,f=new d,g=a,b=new c(h,f,g),h.start()}return a}(),$(document).ready(function(){return new a(new b)})})).call(this)